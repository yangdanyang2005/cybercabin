---
layout: default
---
<!-- ç¯ç»•é¼ æ ‡è¿åŠ¨å¹¶è·Ÿéšçš„ç²’å­ç¾¤æ•ˆæœ -->
<div id="particle-container"></div>

<!-- ç½‘é¡µå¤´éƒ¨ä¿¡æ¯ -->
<header>
  {% if site.theme_config.show_navbar == true %}
  {% include horizontal_list.html collection=site.data.home.navbar_entries %}
  <div class="dashed"></div>
  {% endif %}

  <!-- ç½‘é¡µæè¿° -->
  <h1>{{ site.title }}</h1>
  {% if site.theme_config.show_description == true %} <!-- è¿™äº›æ ‡é¢˜çš„åå­—åœ¨_config.ymlæ–‡ä»¶ä¸­é…ç½® -->
  <p>{{ site.description }}</p>
  {% endif %}
</header>

<!-- éŸ³ä¹æ’­æ”¾å™¨ -->
<div id="music-player-container" style="text-align: center; margin-bottom: 20px;">
  <audio id="audio-player" controls>
    <source src="../music/music_home_whole.mp3" type="audio/mpeg">
    <!-- æ³¨æ„ï¼Œ_å¼€å¤´çš„æ–‡ä»¶å¤¹æ˜¯æ— æ³•è¢«è®¿é—®çš„ -->
  </audio>
</div>

<!-- æ»šåŠ¨èƒŒæ™¯å›¾-å¾ªç¯æ–‡æœ¬åŒºåŸŸ -->
<div id="typing-effect-container"></div>
{{ content }}
{% if site.theme_config.show_misc_list == true %}
<h2>{{ site.theme_config.home.title_misc_list }}</h2>
{% include vertical_list.html collection=site.data.home.misc_entries %}
{% endif %}

<!-- ä»£ç ä»“åº“ -->
{% if site.theme_config.show_old_projects == true %}
<h2>{{ site.theme_config.home.title_old_projects }}</h2>
{% include card_list.html collection=site.data.home.old_project_entries %}
{% endif %}

<!-- æ–‡æµ·æ³›èˆŸ -->
{% if site.theme_config.show_blog == true %}
<h2>{{ site.theme_config.home.title_blog }}</h2>
{% include post_list.html %}
{% endif %}

<!-- æŠ€æœ¯åšå®¢ -->
{% if site.theme_config.show_projects == true %}
<h2>{{ site.theme_config.home.title_projects }}</h2>
{% include card_list.html collection=site.data.home.project_entries %}
{% endif %}

<!-- è…¾è®¯æ–‡æ¡£é“¾æ¥ -->
<h2>{{ site.theme_config.home.title_link_contact }}</h2>
<ul class="horizontal-list">
  <!-- è…¾è®¯æ–‡æ¡£å¡ç‰‡ -->
  <li class="card single">
    <a href="https://docs.qq.com/form/page/DSFBMZGlGWUZlV3Rx" target="_blank">
      <span class="header">ã€è…¾è®¯æ–‡æ¡£ã€‘ä¸ªäººç½‘ç«™åé¦ˆæ”¶é›†è¡¨</span>
      <hr />
      <p class="body">ç‚¹å‡»æ­¤é“¾æ¥å¡«å†™åé¦ˆæ„è§ï¼Œå¸®åŠ©æˆ‘æ”¹è¿›ä¸ªäººç½‘ç«™ï¼ğŸ¤“</p>
    </a>
  </li>
</ul>

<!-- ç½‘ç«™åº•éƒ¨ä¿¡æ¯ -->
{% if site.theme_config.show_footer == true %}
<footer>
  <div class="dashed"></div>
  {% include horizontal_list.html collection=site.data.home.footer_entries %}
  <!-- æ·»åŠ è®¡æ—¶å™¨å’Œè®¿é—®ç»Ÿè®¡ -->
  <div id="site-stats" style="text-align: center; margin-top: 20px;">
    <p>æœ¬ç½‘ç«™å·²è¿ç»­è¿è¡Œï¼š<span id="run-timer">åŠ è½½ä¸­...</span></p>
    <!-- <p>æœ¬ç½‘ç«™ç´¯è®¡è®¿é—®æ¬¡æ•°ï¼š<span id="visit-count">åŠ è½½ä¸­...</span></p> -->
  </div>
</footer>
{% endif %}

<!-- CSS for typing effect -->
<!-- æ·±è‰²æ¨¡å¼å’Œæµ…è‰²æ¨¡å¼çš„é…è‰²å®šä¹‰åœ¨moonwalk.scssæ–‡ä»¶ä¸­ -->
<style>
  /* ----------------------------é¼ æ ‡ç»è¿‡æ—¶ç²’å­çš„åŠ¨ç”»æ•ˆæœ---------------------------- */
  /* ç²’å­å®¹å™¨æ ·å¼ */
  #particle-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    /* ç¡®ä¿ç²’å­ä¸ä¼šé˜»æ­¢å…¶ä»–å…ƒç´ çš„ç‚¹å‡» */
    z-index: 9999;
  }

  /* ç²’å­æ ·å¼ */
    .particle {
    position: absolute;
    width: 8px;
    height: 8px;
    animation: move 1.5s ease-in-out infinite;
    opacity: 0.8;
    clip-path: var(--shape);
  }

  /* ç”Ÿæˆå°¾è¿¹çš„åŠ¨ç”» */
  @keyframes move {
    0% {
      transform: translate(0, 0) scale(1);
      /* åˆå§‹å¤§å°ä¸ºæ­£å¸¸ */
      opacity: 1;
    }

    100% {
      transform: translate(var(--move-x), var(--move-y)) scale(2);
      /* ç²’å­åœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­å˜å¤§ */
      opacity: 0;
      /* ç²’å­é€æ¸æ¶ˆå¤± */
    }
  }

  /* å®šä¹‰é¢œè‰²åŠ¨ç”» */
  @keyframes colorChange {
    0% {
      background-color: #ff5722;
      /* çº¢è‰² */
    }

    25% {
      background-color: #4caf50;
      /* ç»¿è‰² */
    }

    50% {
      background-color: #2196f3;
      /* è“è‰² */
    }

    75% {
      background-color: #ffeb3b;
      /* é»„è‰² */
    }

    100% {
      background-color: #9c27b0;
      /* ç´«è‰² */
    }
  }

  /* --------------------éŸ³ä¹æ’­æ”¾å™¨æ ·å¼-------------------- */
  #music-player-container {
    text-align: center;
    margin-bottom: 20px;
    /* æ§åˆ¶æ’­æ”¾å™¨ä¸ä¸‹æ–¹å†…å®¹çš„é—´è· */
  }

  /* éŸ³é¢‘æ’­æ”¾å™¨æ ·å¼ */
  audio {
    width: 80%;
    /* æ§åˆ¶æ’­æ”¾å™¨å®½åº¦ */
    max-width: 600px;
    /* æœ€å¤§å®½åº¦ */
    border-radius: 10px;
    /* åœ†è§’ */
    background-color: var(--audio-bg-color);
    /* èƒŒæ™¯è‰²ä½¿ç”¨CSSå˜é‡ */
    padding: 10px;
    /* å†…è¾¹è· */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    /* æ·»åŠ é˜´å½± */
  }

  /* æ·±è‰²ä¸»é¢˜ä¸‹çš„éŸ³ä¹æ’­æ”¾å™¨æ ·å¼ */
  [data-theme='dark'] audio {
    background-color: var(--audio-bg-color-dark);
    /* æ·±è‰²æ¨¡å¼èƒŒæ™¯ */
    color: #000;
    /* éŸ³ä¹æ’­æ”¾å™¨ä¸­çš„æ–‡å­—é¢œè‰²ä¸ºé»‘è‰² */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
    /* æ·±è‰²ä¸»é¢˜çš„é˜´å½±æ•ˆæœ */
  }

  /* æµ…è‰²ä¸»é¢˜ä¸‹çš„éŸ³ä¹æ’­æ”¾å™¨æ ·å¼ */
  [data-theme='light'] audio {
    background-color: var(--audio-bg-color-light);
    /* æµ…è‰²æ¨¡å¼èƒŒæ™¯ */
    color: #333;
    /* æµ…è‰²ä¸»é¢˜ä¸‹çš„æ–‡æœ¬é¢œè‰² */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    /* æµ…è‰²ä¸»é¢˜çš„é˜´å½±æ•ˆæœ */
  }

  /* æ§åˆ¶æŒ‰é’®ã€è¿›åº¦æ¡ã€æ—¶é—´æ˜¾ç¤ºç­‰æ–‡æœ¬çš„é¢œè‰² */
  audio::-webkit-media-controls {
    color: inherit;
    /* ç»§æ‰¿çˆ¶å…ƒç´ çš„é¢œè‰² */
  }

  audio::-webkit-media-controls-panel {
    background-color: var(--audio-bg-color);
    /* æ§åˆ¶é¢æ¿èƒŒæ™¯è‰² */
  }

  /* å®šä¹‰CSSå˜é‡ï¼šæµ…è‰²å’Œæ·±è‰²æ¨¡å¼ä¸‹çš„èƒŒæ™¯é¢œè‰² */
  :root {
    --audio-bg-color-light: #f8f8f8;
    /* æµ…è‰²æ¨¡å¼ä¸‹çš„èƒŒæ™¯è‰² */
    --audio-bg-color-dark: #333;
    /* æ·±è‰²æ¨¡å¼ä¸‹çš„èƒŒæ™¯è‰² */
  }

  /* æ·±è‰²ä¸»é¢˜ä¸‹çš„é¢œè‰²è®¾ç½® */
  [data-theme='dark'] {
    --audio-bg-color: #333;
    /* èƒŒæ™¯è‰² */
  }

  /* æµ…è‰²ä¸»é¢˜ä¸‹çš„é¢œè‰²è®¾ç½® */
  [data-theme='light'] {
    --audio-bg-color: #f8f8f8;
    /* èƒŒæ™¯è‰² */
  }

  /* -----------------------------------å›¾ç‰‡-æ‰“å­—æ•ˆæœæ ·å¼--------------------------- */
  [data-theme='dark'] #typing-effect-container {
    color: var(--typing-text-color);
    /* åŠ¨æ€æ–‡å­—é¢œè‰² */
  }

  [data-theme='dark'] #typing-effect-container::after {
    background-color: var(--typing-cursor-color);
    /* å…‰æ ‡é¢œè‰² */
  }

  :root {
    --typing-text-color: #333;
    /* é»˜è®¤æ–‡å­—é¢œè‰² */
    --typing-cursor-color: #333;
    /* é»˜è®¤å…‰æ ‡é¢œè‰² */
  }

  [data-theme='dark'] {
    --typing-text-color: #9a93f0;
    /* æ·±è‰²ä¸»é¢˜çš„æ–‡å­—é¢œè‰² */
    --typing-cursor-color: #9a93f0;
    /* æ·±è‰²ä¸»é¢˜çš„å…‰æ ‡é¢œè‰² */
  }

  /* å®¹å™¨æ ·å¼ */
  #typing-effect-container {
    font-family: 'KaiTi', 'æ¥·ä½“', 'SimKai', 'NSimSun', 'STKaiti', 'AR PL UKai CN', 'AR PL UKai HK', 'AR PL UKai TW', monospace;
    font-size: 1.5em;
    color: var(--typing-text-color);
    white-space: nowrap;
    overflow: hidden;
    display: inline-block;
    text-align: center;
    margin: 20px auto 40px;
    position: relative;
    padding: 20px;
    height: 10em;
    background-size: cover;
    background-position: center center;
    animation: scrollBackground 20s linear infinite;
    width: 29em;
    /* é»˜è®¤å®½åº¦ */
  }

  /*pxï¼ˆåƒç´ ï¼‰ï¼šåƒç´ æ˜¯å±å¹•ä¸Šçš„ä¸€ä¸ªåŸºæœ¬å•ä½ï¼Œè¡¨ç¤ºå±å¹•çš„æœ€å°å¯æ˜¾ç¤ºç‚¹ã€‚
  å®ƒä¸è®¾å¤‡çš„å±å¹•åˆ†è¾¨ç‡ç›´æ¥ç›¸å…³ï¼Œé€šå¸¸ç”¨äºæŒ‡å®šå›ºå®šçš„å°ºå¯¸ï¼Œä¸éšå±å¹•å¤§å°æˆ–çˆ¶å…ƒç´ çš„å˜åŒ–è€Œå˜åŒ–ã€‚

  emï¼šem æ˜¯ç›¸å¯¹å•ä½ï¼Œå®ƒåŸºäºå½“å‰å…ƒç´ çš„å­—ä½“å¤§å°ã€‚
  ä¾‹å¦‚ï¼Œ1em ç­‰äºå½“å‰å…ƒç´ çš„å­—ä½“å¤§å°ï¼›
  å¦‚æœçˆ¶å…ƒç´ çš„å­—ä½“å¤§å°æ˜¯ 16pxï¼Œé‚£ä¹ˆ 1em å°±ç­‰äº 16pxï¼Œ2em å°±ç­‰äº 32pxã€‚
  å¦‚æœæ²¡æœ‰è®¾ç½®çˆ¶å…ƒç´ çš„å­—ä½“å¤§å°ï¼Œem å°±ç»§æ‰¿æµè§ˆå™¨é»˜è®¤çš„å­—ä½“å¤§å°ï¼ˆé€šå¸¸ä¸º 16pxï¼‰ã€‚
  em å•ä½éå¸¸é€‚ç”¨äºå“åº”å¼å¸ƒå±€ï¼Œå› ä¸ºå®ƒèƒ½æ ¹æ®çˆ¶å…ƒç´ çš„å­—ä½“å¤§å°åŠ¨æ€è°ƒæ•´ã€‚*/

  /* å±å¹•å®½åº¦å°äº 600px æ—¶è°ƒæ•´å®½åº¦ï¼Œä¿ç•™å·¦å³è¾¹è· */
  @media (max-width: 600px) {
    #typing-effect-container {
      width: calc(100% - 40px);
      /* å±å¹•å®½åº¦å‡å»å·¦å³è¾¹è· */
      margin-left: 20px;
      margin-right: 20px;
    }
  }

  /* èƒŒæ™¯æ»šåŠ¨åŠ¨ç”» */
  @keyframes scrollBackground {
    0% {
      background-position: 0 0;
    }

    100% {
      background-position: 100% 0;
    }
  }

  /* è°ƒæ•´å¤´éƒ¨æ ·å¼ä»¥é€‚åº”æ‰“å­—æ•ˆæœ */
  header {
    position: relative;
    padding-top: 70px;
  }

  /* å…‰æ ‡é—ªçƒæ•ˆæœ */
  #typing-effect-container::after {
    content: '';
    display: inline-block;
    width: 3px;
    /* è°ƒæ•´å…‰æ ‡å®½åº¦ */
    height: 1.2em;
    /* è°ƒæ•´å…‰æ ‡é«˜åº¦ */
    background-color: var(--typing-cursor-color);
    /* åŠ¨æ€å…‰æ ‡é¢œè‰² */
    animation: blink 0.8s steps(2, start) infinite;
    /* é—ªçƒæ•ˆæœ */
  }

  /* å…‰æ ‡é—ªçƒåŠ¨ç”» */
  @keyframes blink {
    to {
      visibility: hidden;
    }
  }
</style>

<!-- JavaScript for typing effect -->
<script>
  // ----------------------------ç›‘å¬é¼ æ ‡äº‹ä»¶å¹¶ç”Ÿæˆç²’å­æ•ˆæœ----------------------------
  const particleContainer = document.getElementById('particle-container');

  // ç›‘å¬é¼ æ ‡ç§»åŠ¨äº‹ä»¶
  document.addEventListener('mousemove', (e) => {
    for (let i = 0; i < 3; i++) {  // æ¯æ¬¡é¼ æ ‡ç§»åŠ¨ç”Ÿæˆ5ä¸ªç²’å­
      createParticle(e.pageX, e.pageY);
    }
  });

    function createParticle(x, y) {
    const particle = document.createElement('div');
    particle.classList.add('particle');

    // æ·»åŠ éšæœºå›¾å½¢ç”Ÿæˆ
    const shapes = [
      'circle(50% at 50% 50%)', // åœ†å½¢
      'polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)', // è±å½¢
      'polygon(50% 0%, 100% 100%, 0% 100%)', // ä¸‰è§’å½¢
      'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)', // æ–¹å½¢
      'polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)', // æ˜Ÿå½¢
    ];
    const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
    particle.style.setProperty('--shape', randomShape);

    // éšæœºç”Ÿæˆç²’å­é¢œè‰²
    const color = getRandomColor();
    particle.style.backgroundColor = color;

    // è®¾ç½®ç²’å­çš„åˆå§‹ä½ç½®
    particle.style.left = `${x - 5}px`;
    particle.style.top = `${y - 5}px`;

    // éšæœºç”Ÿæˆç²’å­çš„è¿åŠ¨æ–¹å‘
    const moveX = (Math.random() - 0.5) * 100;
    const moveY = (Math.random() - 0.5) * 100;

    // è®¾ç½®åŠ¨ç”»å±æ€§
    particle.style.setProperty('--move-x', `${moveX}px`);
    particle.style.setProperty('--move-y', `${moveY}px`);

    // ä¸ºç²’å­æ·»åŠ é¢œè‰²å˜åŒ–åŠ¨ç”»
    particle.style.animation = `move 1.5s ease-in-out infinite, colorChange 1.5s linear infinite, grow 1.5s ease-out`;

    // å°†ç²’å­æ·»åŠ åˆ°å®¹å™¨ä¸­
    particleContainer.appendChild(particle);

    // ç²’å­åŠ¨ç”»å®Œæˆåç§»é™¤
    setTimeout(() => {
      particle.remove();
    }, 1500);
  }

  // éšæœºç”Ÿæˆé¢œè‰²
  function getRandomColor() {
    const letters = '0123456789ABCDEF';
    let color = '#';
    for (let i = 0; i < 6; i++) {
      color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
  }

  // ----------------------------æ‰“å­—æ•ˆæœ--------------------------
  document.addEventListener('DOMContentLoaded', function () {
    const texts = [
      "å¤©è¡Œå¥ï¼Œå›å­ä»¥è‡ªå¼ºä¸æ¯ï¼›åœ°åŠ¿å¤ï¼Œå›å­ä»¥åšå¾·è½½ç‰©ã€‚",
      "é«˜å±±ä»°æ­¢ï¼Œæ™¯è¡Œè¡Œæ­¢ã€‚",
      "è’¹è‘­è‹è‹ï¼Œç™½éœ²ä¸ºéœœã€‚",
      "æ˜”æˆ‘å¾€çŸ£ï¼Œæ¨æŸ³ä¾ä¾ã€‚ä»Šæˆ‘æ¥æ€ï¼Œé›¨é›ªéœéœã€‚",
      "å¤©ä½•æ‰€æ²“ï¼ŸåäºŒç„‰åˆ†ï¼Ÿæ—¥æœˆå®‰å±ï¼Ÿåˆ—æ˜Ÿå®‰é™ˆï¼Ÿ",
      "çŸ¥å¤©ä¹‹æ‰€ä¸ºï¼ŒçŸ¥äººä¹‹æ‰€ä¸ºè€…ï¼Œè‡³çŸ£ã€‚",
      "å¤©åœ°ç„é»„ï¼Œå®‡å®™æ´ªè’ã€‚æ—¥æœˆç›ˆæ˜ƒï¼Œè¾°å®¿åˆ—å¼ ã€‚",
      "é“ç”Ÿä¸€ï¼Œä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿä¸‡ç‰©ã€‚",
    ];

    let currentTextIndex = 0;
    let currentCharIndex = 0;
    const typingSpeed = 150; // æ‰“å­—é€Ÿåº¦ï¼ˆæ¯«ç§’ï¼‰
    const eraseSpeed = 50; // åˆ é™¤é€Ÿåº¦ï¼ˆæ¯«ç§’ï¼‰
    const typingEffectContainer = document.getElementById("typing-effect-container");

    function typeText() {
      const currentText = texts[currentTextIndex];
      typingEffectContainer.textContent = currentText.substring(0, currentCharIndex + 1);
      currentCharIndex++;

      if (currentCharIndex < currentText.length) {
        setTimeout(typeText, typingSpeed);
      } else {
        setTimeout(eraseText, 1000); // æ‰“å­—å®Œæ¯•åç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç„¶åå¼€å§‹åˆ é™¤
      }
    }

    function eraseText() {
      const currentText = texts[currentTextIndex];
      typingEffectContainer.textContent = currentText.substring(0, currentCharIndex - 1);
      currentCharIndex--;

      if (currentCharIndex >= 0) {
        setTimeout(eraseText, eraseSpeed);
      } else {
        currentTextIndex = (currentTextIndex + 1) % texts.length; // å¾ªç¯æ’­æ”¾æ–‡æœ¬
        setTimeout(typeText, 500); // ç­‰å¾…ä¸€æ®µæ—¶é—´åå†å¼€å§‹æ‰“å­—
      }
    }

    typeText(); // å¼€å§‹æ‰“å­—æ•ˆæœ

    // è°ƒç”¨èƒŒæ™¯å›¾åŠ è½½å’Œæ›´æ–°
    loadBackgroundImages();
  });

  // åŠ è½½å¹¶å¾ªç¯æ˜¾ç¤ºèƒŒæ™¯å›¾ç‰‡
  function loadBackgroundImages() {
    const folderPath = "images/home_page/"; // å›¾ç‰‡æ–‡ä»¶å¤¹è·¯å¾„
    const imageFiles = [
      "img1.png", "img2.jpg", "img3.jpg", "img4.jpg",
      "img5.jpg", "img6.jpg", "img7.jpg", "img8.png" // æ›¿æ¢ä¸ºæ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡æ–‡ä»¶å
    ];

    let currentImageIndex = 0;
    const typingEffectContainer = document.getElementById("typing-effect-container");

    function updateBackgroundImage() {
      typingEffectContainer.style.backgroundImage = `url('${folderPath}${imageFiles[currentImageIndex]}')`;
      currentImageIndex = (currentImageIndex + 1) % imageFiles.length; // å¾ªç¯å›¾ç‰‡

      // è®¡ç®—å¹¶è®¾ç½®æ–‡å­—é¢œè‰²ä¸ºèƒŒæ™¯å›¾çš„å¯¹æ¯”è‰²
      const img = new Image();
      img.src = `${folderPath}${imageFiles[currentImageIndex]}`;
      img.onload = function () {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage(img, 0, 0, img.width, img.height);

        //é˜²æ­¢æ–‡å­—è¢«é€‰ä¸­
        canvas.style.userSelect = 'none';

        // åªå–å›¾åƒçš„ä¸Š1/3éƒ¨åˆ†
        const cropHeight = Math.floor(img.height / 3);
        const imgData = ctx.getImageData(0, 0, img.width, cropHeight); // æˆªå–ä¸Š1/3éƒ¨åˆ†çš„åƒç´ æ•°æ®

        let r = 0, g = 0, b = 0;
        const pixelCount = imgData.width * imgData.height;
        for (let i = 0; i < pixelCount; i++) {
          r += imgData.data[i * 4];
          g += imgData.data[i * 4 + 1];
          b += imgData.data[i * 4 + 2];
        }
        r = Math.floor(r / pixelCount);
        g = Math.floor(g / pixelCount);
        b = Math.floor(b / pixelCount);

        // è®¡ç®—äº®åº¦
        const luminance = 0.2126 * r + 0.7152 * g + 0.0722 * b;

        // æ ¹æ®äº®åº¦é€‰æ‹©é€‚å½“çš„æ–‡å­—é¢œè‰²
        const contrastColor = luminance > 128 ? '#000' : '#fff'; // äº®åº¦å¤§äº128é€‰æ‹©é»‘è‰²ï¼Œåä¹‹é€‰æ‹©ç™½è‰²
        document.documentElement.style.setProperty('--typing-text-color', contrastColor);
        document.documentElement.style.setProperty('--typing-cursor-color', contrastColor); // è®¾ç½®å…‰æ ‡é¢œè‰²
      };
    }


    updateBackgroundImage(); // åˆå§‹åŒ–æ˜¾ç¤ºç¬¬ä¸€å¼ å›¾ç‰‡
    setInterval(updateBackgroundImage, 5000); // æ¯5ç§’æ›´æ–°ä¸€æ¬¡èƒŒæ™¯å›¾ç‰‡
  }


  // ç½‘ç«™è¿è¡Œè®¡æ—¶å™¨
  const siteStartTime = new Date('2024-11-07T16:04:00'); // ç½‘ç«™å¯åŠ¨æ—¶é—´
  const runTimerElement = document.getElementById("run-timer");

  function updateRunTime() {
    const currentTime = new Date();
    const elapsedTime = currentTime - siteStartTime;
    const days = Math.floor(elapsedTime / (1000 * 60 * 60 * 24));
    const hours = Math.floor((elapsedTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((elapsedTime % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((elapsedTime % (1000 * 60)) / 1000);

    runTimerElement.textContent = `${days}å¤© ${hours}å°æ—¶ ${minutes}åˆ†é’Ÿ ${seconds}ç§’`;
  }

  setInterval(updateRunTime, 1000); // æ¯ç§’æ›´æ–°ä¸€æ¬¡è¿è¡Œæ—¶é—´

  // ç½‘ç«™è®¿é—®è®¡æ•°å™¨
  const visitCountElement = document.getElementById("visit-count");

  // // æ¨¡æ‹Ÿè®¿é—®æ¬¡æ•°ï¼Œè¿™é‡Œä½ å¯ä»¥ç”¨çœŸå®çš„ API æˆ–è€…è®¡æ•°å™¨æœåŠ¡æ¥æ›´æ–°è®¿é—®æ¬¡æ•°
  // let visitCount = 12345; // ç¤ºä¾‹è®¿é—®æ¬¡æ•°
  // visitCountElement.textContent = visitCount;

  // å¦‚æœä½ éœ€è¦ä»æœåŠ¡å™¨è·å–å®é™…çš„è®¿é—®æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼çš„ä»£ç ï¼š
  fetch('/api/get-visit-count')
    .then(response => response.json())
    .then(data => {
      visitCount = data.visitCount;
      visitCountElement.textContent = visitCount;
    });

  // éŸ³ä¹æ’­æ”¾å™¨
  document.addEventListener('DOMContentLoaded', function () {
    const audioPlayer = document.getElementById('audio-player');
    // è‡ªåŠ¨æ’­æ”¾
    audioPlayer.autoplay = true;
    // å¾ªç¯æ’­æ”¾
    audioPlayer.loop = true;
  });

 // --------------------------ç‚¹å‡»è·³å‡ºæ±‰å­—æ•ˆæœ--------------------------
(function () {
  var timesOfDay = ["å¤œåŠ", "é¸¡é¸£", "å¹³æ—¦", "æ—¥å‡º", "é£Ÿæ—¶", "éš…ä¸­", "æ—¥ä¸­", "æ—¥æ˜³", "æ™¡æ—¶", "æ—¥å…¥", "é»„æ˜", "äººå®š",
    "æ˜¥åˆ†", "é›¨æ°´", "æƒŠè›°", "æ˜¥åˆ†", "æ¸…æ˜", "è°·é›¨", "ç«‹å¤", "å°æ»¡", "èŠ’ç§", "å¤è‡³", "å°æš‘", "å¤§æš‘", "ç«‹ç§‹", "å¤„æš‘", "ç™½éœ²", "ç§‹åˆ†", "å¯’éœ²", "éœœé™", "ç«‹å†¬", "å°é›ª", "å¤§é›ª", "å†¬è‡³", "å°å¯’", "å¤§å¯’", 
  ];
  var index = Math.floor(Math.random() * timesOfDay.length);

  document.body.addEventListener('click', function (e) {
    if (e.target.tagName == 'A') {
      return;
    }
    var x = e.pageX,
        y = e.pageY,
        span = document.createElement('span');

    // è®¾ç½®è¦æ˜¾ç¤ºçš„è¯
    span.textContent = timesOfDay[index];
    index = (index + 1) % timesOfDay.length; // å¾ªç¯æ›´æ–°ç´¢å¼•

    // éšæœºç”Ÿæˆé¢œè‰²
    var randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16);

    // è®¾ç½®æ ·å¼
    span.style.cssText = [
      'z-index: 9999999; position: absolute; font-weight: bold; color: ', randomColor, 
      '; top: ', y - 14, 'px; left: ', x - 14, // å°† top è®¾ç½®ä¸º y - å­—ä½“çš„ä¸€åŠé«˜åº¦ï¼Œä»¥ä¾¿ä½¿å­—çš„åº•è¾¹ä¸­ç‚¹å¯¹é½ç‚¹å‡»ç‚¹
      'px; font-size: 14px; font-family: "KaiTi", "æ¥·ä½“", sans-serif;'
    ].join('');

    span.style.userSelect = 'none'; // é˜²æ­¢é€‰ä¸­

    document.body.appendChild(span);
    animate(span);
  });

  function animate(el) { // åŠ¨ç”»
    var i = 0,
        size = 14, // åˆå§‹å­—ä½“å¤§å°
        top = parseInt(el.style.top),
        id = setInterval(frame, 24);

    function frame() { // å¸§
      if (i > 120) { // å°†åŠ¨ç”»æŒç»­æ—¶é—´å‡å°‘ï¼Œé¿å…å­—æ‰©æ•£å¾—è¿‡å¤§
        clearInterval(id);
        el.parentNode.removeChild(el);
      } else {
        i += 2; // å¸§ç‡
        size += 0.3; // å­—ä½“é€æ¸å¢å¤§ï¼Œå¢å¤§å¹…åº¦å‡å°
        el.style.top = top - i + 'px'; // å‘ä¸Šè¿åŠ¨
        el.style.opacity = (120 - i) / 120; // é€æ¸å˜é€æ˜
        el.style.fontSize = size + 'px'; // å­—ä½“é€æ¸å˜å¤§

        // è®¡ç®—æ–°çš„æ°´å¹³ä½ç½®ï¼ŒåŸºäºåˆå§‹å€¼å’Œå½“å‰å­—ä½“å˜åŒ–è°ƒæ•´
        let initialFontSize = 14; // åˆå§‹å­—ä½“å¤§å°æ˜¯ 14px
        let initialLeft = parseFloat(el.dataset.initialLeft) || parseFloat(el.style.left) || 0; // åˆå§‹ left å€¼

        if (!el.dataset.initialLeft) {
            // ä¿å­˜åˆå§‹ä½ç½®åˆ° dataset
            el.dataset.initialLeft = initialLeft;
        }

        // æ ¹æ®å­—ä½“å¤§å°è°ƒæ•´ leftï¼Œç¡®ä¿ä¸­å¿ƒç«–ç›´å‘ä¸Š
        let adjustment = (size - initialFontSize) / 2; // åŠ¨æ€è°ƒæ•´é‡
        el.style.left = initialLeft - adjustment + 'px';
      }
    }
  }
}());

</script>